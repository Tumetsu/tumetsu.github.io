{"componentChunkName":"component---src-templates-post-tsx","path":"/programming/kaira-extractor/","webpackCompilationHash":"4fd03c7fbed01dc2b980","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABFUlEQVQY023PvUrDUBTA8ZuCtoMoOLQ4dWhN14x2kEKXFkGoohQ/QBexOHRycAidKkgHHRq69APRoTjFJYODIA6+gSBYfYMmfYLE/5VT6NALP845NyeHc9UoCHZRQvonCLKKE4ZhAXYURTsYoE9dIy5iCzfUJnEdV+RF4iu6ikFH2EPxazzOcJmg4Rnn5C8ysIEOHqTe5/sT3qXOwYOtRr5/wLAqzpCTDXu4p2ETtyjgGJ/cX+se8jeU9fa4RBt5vWENpjzdkoGPcGg4RQsbOMEFmnBRRwVDHEK/yFXfvr/CoPjvZLKcdByDyzWGeajigzorGy0oOeRJiUtITe/pX1XzDk3buIMltSFR/zTtic3060X+8z8PsEUt8G3LVQAAAABJRU5ErkJggg==","width":400,"height":128,"src":"/static/2b5eaa0de166a8b5faebad4955c2200c/647de/ghost-logo.png","srcSet":"/static/2b5eaa0de166a8b5faebad4955c2200c/647de/ghost-logo.png 1x"}}},"markdownRemark":{"html":"<p>Year ago I was working on Lammi Biological Station on various tasks. One of the most interesting ones was a project to extract data from old matrikel books into digitized Excel compatible format. Resulting data set was supposed to be used in statistical research. The project began from trying to extract the data of Finnish Winter War soldiers from a book series <em>Suomen Rintamamiehet 1939-43</em>. <a href=\"/finnish-soldiers-from-book-to-excel/\">You can find earlier description of the project from another blog post</a>. After a considerable success with soldier data we decided to extend it to other matrikel series and develop a software I later named as <strong>Kaira</strong>.</p>\n<h4>So what are these matrikels any way?</h4>\n<p>For whatever reason in past there has been a trend in Finland to catalogue information of groups of people in different book series. They were done by interviewing people and then compiling huge books containing short descriptions of people’s life stories with varying information. Most of the series we worked on were from 70’s. Below are series included into <em>Kaira</em>:</p>\n<ul>\n<li>Suomen Rintamamiehet 1939-43</li>\n<li>Suomen Pienviljelijät</li>\n<li>Siirtokarjalaisten tie</li>\n<li>Suuret maatilat</li>\n</ul>\n<p>Since these book series contain a lot of data of certain interesting groups of people, such as people who migrated from Karelia during the wars, they represent potential data for research. Problem was that this data was in natural language in a old books. Luckily John Loehr, researcher from Lammi Biological Station had already scanned multiple books into pdfs which let me to extract the text from them for analyzing.</p>\n<h4>What is Kaira?</h4>\n<p>Kaira is a tool I developed to read scanned text from a fore mentioned book series and extract as much of the data as possible automatically. In addition of extraction features, Kaira also provides simple interface to manually edit and improve the data before exporting it to csv or json formats.</p>\n<h4>So how is the data extracted?</h4>\n<p>First raw text files were converted into xml-file with each person’s data separated into tag. This conversion was done with regex-patterns and using <em>ABBYY Finereader</em>’s html-export which produced good enough structure to find the relevant text from books.</p>\n<p>Matrikels were mostly written in a very structured way with information presented mostly in same order in each person’s entry. This made it possible to use regular expressions to extract most of the data. For example text entry might read something like:</p>\n<blockquote>\n<p>AHONEN, Lauri Olavi. Synt. 12.3.1907, Alajärvi. Pso. Helena o.s. Metsälä, synt. 25.8.1912.</p>\n</blockquote>\n<p>In this case there is man’s name first, then his birthdate and place. Finally there is his spouses name, original surname and birthdate. Since most of the text was written in this way, <em>Kaira</em> was designed to be essentially a regular expression framework, which during the extraction tracks the location of the extraction in data entry. Some data, for example dates, were easy to extract as a pattern, but the birth location was identifiable only by position in text (after birth date).</p>\n<p>Kaira’s design is mostly a pipeline of extractor classes with custom rules for each data piece tracking their location in the text. Required regexes were developed by inspecting the source text and identifying patterns of data.</p>\n<p>Below is an illustration of this process:\n<img style=\"max-width:100%\" src=\"http://i.imgur.com/Obp8gM8.jpg=100x\"></p>\n<h3>User interface</h3>\n<p>During the development I noticed that it was hopeless to produce a perfect extraction results automatically. Often authors had deviated from their text patterns during writing breaking the regex-formulas or OCR had mistaken some of the vital words in text making them unrecognizable by software.</p>\n<p>Answer was to develop a GUI in <em>PyQt5</em> for end user to view the extracted data and perform some simple fixing actions on it:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1139px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/90c12b198c10b8c99129dcf1bfebf59c/d0591/kaira-screenshot.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.26690079016682%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAACJElEQVQoz1VS2ZKbMBDk/78lx2NSeUtVqrIP2TVeg8EGxCEEQiBxmVOAdrC3ks3UlDQImp5ujfbriHQbH2y8rxbWL/Hh/niwIt2KDCc1Pfp/ZoZLjxfypDsa9iPPQwlJeMFZSjNK62qPnBU4yVjVsrItmu6RedmUorzdumEYacY01/NPryfOi7qpcRQZhnl1HN8POBeui/JCTLNclVq2bVNqmEY4V/fIAIxQcDZMIYRcZJIkx+OrZdlhhJu6icJwmib1IRa5DIN81JQyzfOC44uOMYbvAHy9XEOICPd933Udy7J3/E6stnVc1mhVsVKk4EjzUGBbdlVW4zimKUXIp1nWtk3btvM84wjPs7xjd7CUvGq+yO3Hpr6L6vfObJyMwPe7rk+T5HDQTfPsIZ8LMfR9UfAH7L6oeVqa+l1IVbe7YcbrKcYxMNM0Bc22bWMc13UtpQyDcOiHv8zrKsb507R8XdVnXv7UHBfpzy/IQ7fbLY7J+Wy5rsfyHNoehj5n+YPnAR7HocgpGAf/qWoBmkPTMGhKQWGapq7jXi4XHwXgP1hFEzpN8z/mrZOLuW5npc5lZe9tm4YJQwL2EkJA8/Of5+vVKctKzlOMwbD5g2FVzr/J7Umpp7LW97aNE2jG4DCJia4f7zPDQUVT11DA3cp5j2VZ+m4sWLctu5BSNBqhDAYNJomXFewxSUkCU8pYwWEPMSEJ9J5BDaeQ+xvBRVXGJHkD1JTMGElqFOYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"kaira screenshot\"\n        title=\"kaira screenshot\"\n        src=\"/static/90c12b198c10b8c99129dcf1bfebf59c/d0591/kaira-screenshot.png\"\n        srcset=\"/static/90c12b198c10b8c99129dcf1bfebf59c/bc34b/kaira-screenshot.png 293w,\n/static/90c12b198c10b8c99129dcf1bfebf59c/da9f0/kaira-screenshot.png 585w,\n/static/90c12b198c10b8c99129dcf1bfebf59c/d0591/kaira-screenshot.png 1139w\"\n        sizes=\"(max-width: 1139px) 100vw, 1139px\"\n      />\n  </a>\n    </span></p>\n<p>In picture, on left there is a list of every person in a one book. Center column includes data entries of three different persons in the book to be edited manually and compare to the extracted results on right column. On last column UI shows extracted data from current entry with coloring fields to yellow or red it considers missing or erroneous. User can improve the analyzer by editing the original text in middle column or inserting data to fields on right manually.</p>\n<h4>Location data</h4>\n<p>Some of the books had location names attached to people. Books about migrating Karelians had lists of their living places with years they spent there. I quickly noticed that I could add GPS-coordinates using these names and a location name database. After some search I found a huge data set of Finnish location names and their GPS coordinates. I added them to a MongoDB which is then queried everytime extractor encounters a place name. This produced interesting geographical material about the migration patterns. Coordinates were added to the extraction results when they were found.</p>\n<h4>Exporting</h4>\n<p>After data is analyzed, it is saved into xml-file to be analyzed later again by <em>Kaira</em>. For other uses each book series has a csv-export and json-export which transform the data into more useful formats for post processing.</p>\n<h4>Used technologies</h4>\n<p>Software was written in Python using MongoDB as a location database and PyQt5 as gui-library.</p>\n<h4>What could be improved</h4>\n<p>Later I finally got around studying relational databases and nowadays I think that I should have designed a SQLite database to save the extraction results instead of using XML-file for that. SQLite export would lead to few interesting applications such as easy querying and perhaps a web-interface.</p>\n<p>User interface and editing features was developed rather late in the project and I had to learn PyQt well enough. Due this it’s lacking many useful features and could be vastly improved in every regard.</p>\n<p>Finally since the project was rather complicated and evolved organically, I didn’t have a full architecture designed explicitly. There is some sub-optimal design decisions and strange parts in code. I also wish I had known about a proper unit testing since it would have helped a lot during the development.</p>\n<h4>End result</h4>\n<p>In the end I’m happy about how Kaira turned out regardless of its flaws. It was really intriguing and challenging to design and I was happy to design the algorithms and extraction patterns.</p>\n<h4>Availability</h4>\n<p>Kaira and user manual are available on my <a href=\"https://github.com/Tumetsu/Kaira\">Github profile</a>. Required data sets and scanned texts are not public but in case you need them for research, you can contact me or <a href=\"http://www.helsinki.fi/lammi/henkilot/hkunta.html\">John Loehr</a>.</p>\n<p>Cover image from <a href=\"sa-kuva.fi\">SA-kuva</a></p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Year ago I was working on Lammi Biological Station on various tasks. One of the most interesting ones was a project to extract data from old matrikel books into digitized Excel compatible format. Resulting data set was supposed to be used in statistical research. The project began from trying to extract the data of Finnish Winter War soldiers from a book series "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Suomen Rintamamiehet 1939-43"}]},{"type":"text","value":". "},{"type":"element","tagName":"a","properties":{"href":"/finnish-soldiers-from-book-to-excel/"},"children":[{"type":"text","value":"You can find earlier description of the project from another blog post"}]},{"type":"text","value":". After a considerable success with soldier data we decided to extend it to other matrikel series and develop a software I later named as "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Kaira"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"So what are these matrikels any way?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For whatever reason in past there has been a trend in Finland to catalogue information of groups of people in different book series. They were done by interviewing people and then compiling huge books containing short descriptions of people’s life stories with varying information. Most of the series we worked on were from 70’s. Below are series included into "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Kaira"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Suomen Rintamamiehet 1939-43"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Suomen Pienviljelijät"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Siirtokarjalaisten tie"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Suuret maatilat"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Since these book series contain a lot of data of certain interesting groups of people, such as people who migrated from Karelia during the wars, they represent potential data for research. Problem was that this data was in natural language in a old books. Luckily John Loehr, researcher from Lammi Biological Station had already scanned multiple books into pdfs which let me to extract the text from them for analyzing."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"What is Kaira?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kaira is a tool I developed to read scanned text from a fore mentioned book series and extract as much of the data as possible automatically. In addition of extraction features, Kaira also provides simple interface to manually edit and improve the data before exporting it to csv or json formats."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"So how is the data extracted?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"First raw text files were converted into xml-file with each person’s data separated into tag. This conversion was done with regex-patterns and using "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ABBYY Finereader"}]},{"type":"text","value":"’s html-export which produced good enough structure to find the relevant text from books."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Matrikels were mostly written in a very structured way with information presented mostly in same order in each person’s entry. This made it possible to use regular expressions to extract most of the data. For example text entry might read something like:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"AHONEN, Lauri Olavi. Synt. 12.3.1907, Alajärvi. Pso. Helena o.s. Metsälä, synt. 25.8.1912."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In this case there is man’s name first, then his birthdate and place. Finally there is his spouses name, original surname and birthdate. Since most of the text was written in this way, "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Kaira"}]},{"type":"text","value":" was designed to be essentially a regular expression framework, which during the extraction tracks the location of the extraction in data entry. Some data, for example dates, were easy to extract as a pattern, but the birth location was identifiable only by position in text (after birth date)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kaira’s design is mostly a pipeline of extractor classes with custom rules for each data piece tracking their location in the text. Required regexes were developed by inspecting the source text and identifying patterns of data."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Below is an illustration of this process:\n"},{"type":"element","tagName":"img","properties":{"style":"max-width:100%","src":"http://i.imgur.com/Obp8gM8.jpg=100x"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"User interface"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"During the development I noticed that it was hopeless to produce a perfect extraction results automatically. Often authors had deviated from their text patterns during writing breaking the regex-formulas or OCR had mistaken some of the vital words in text making them unrecognizable by software."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Answer was to develop a GUI in "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PyQt5"}]},{"type":"text","value":" for end user to view the extracted data and perform some simple fixing actions on it:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1139px;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/90c12b198c10b8c99129dcf1bfebf59c/d0591/kaira-screenshot.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 64.26690079016682%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAACJElEQVQoz1VS2ZKbMBDk/78lx2NSeUtVqrIP2TVeg8EGxCEEQiBxmVOAdrC3ks3UlDQImp5ujfbriHQbH2y8rxbWL/Hh/niwIt2KDCc1Pfp/ZoZLjxfypDsa9iPPQwlJeMFZSjNK62qPnBU4yVjVsrItmu6RedmUorzdumEYacY01/NPryfOi7qpcRQZhnl1HN8POBeui/JCTLNclVq2bVNqmEY4V/fIAIxQcDZMIYRcZJIkx+OrZdlhhJu6icJwmib1IRa5DIN81JQyzfOC44uOMYbvAHy9XEOICPd933Udy7J3/E6stnVc1mhVsVKk4EjzUGBbdlVW4zimKUXIp1nWtk3btvM84wjPs7xjd7CUvGq+yO3Hpr6L6vfObJyMwPe7rk+T5HDQTfPsIZ8LMfR9UfAH7L6oeVqa+l1IVbe7YcbrKcYxMNM0Bc22bWMc13UtpQyDcOiHv8zrKsb507R8XdVnXv7UHBfpzy/IQ7fbLY7J+Wy5rsfyHNoehj5n+YPnAR7HocgpGAf/qWoBmkPTMGhKQWGapq7jXi4XHwXgP1hFEzpN8z/mrZOLuW5npc5lZe9tm4YJQwL2EkJA8/Of5+vVKctKzlOMwbD5g2FVzr/J7Umpp7LW97aNE2jG4DCJia4f7zPDQUVT11DA3cp5j2VZ+m4sWLctu5BSNBqhDAYNJomXFewxSUkCU8pYwWEPMSEJ9J5BDaeQ+xvBRVXGJHkD1JTMGElqFOYAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"kaira screenshot","title":"kaira screenshot","src":"/static/90c12b198c10b8c99129dcf1bfebf59c/d0591/kaira-screenshot.png","srcSet":["/static/90c12b198c10b8c99129dcf1bfebf59c/bc34b/kaira-screenshot.png 293w","/static/90c12b198c10b8c99129dcf1bfebf59c/da9f0/kaira-screenshot.png 585w","/static/90c12b198c10b8c99129dcf1bfebf59c/d0591/kaira-screenshot.png 1139w"],"sizes":["(max-width:","1139px)","100vw,","1139px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In picture, on left there is a list of every person in a one book. Center column includes data entries of three different persons in the book to be edited manually and compare to the extracted results on right column. On last column UI shows extracted data from current entry with coloring fields to yellow or red it considers missing or erroneous. User can improve the analyzer by editing the original text in middle column or inserting data to fields on right manually."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Location data"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some of the books had location names attached to people. Books about migrating Karelians had lists of their living places with years they spent there. I quickly noticed that I could add GPS-coordinates using these names and a location name database. After some search I found a huge data set of Finnish location names and their GPS coordinates. I added them to a MongoDB which is then queried everytime extractor encounters a place name. This produced interesting geographical material about the migration patterns. Coordinates were added to the extraction results when they were found."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Exporting"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After data is analyzed, it is saved into xml-file to be analyzed later again by "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Kaira"}]},{"type":"text","value":". For other uses each book series has a csv-export and json-export which transform the data into more useful formats for post processing."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Used technologies"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Software was written in Python using MongoDB as a location database and PyQt5 as gui-library."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"What could be improved"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Later I finally got around studying relational databases and nowadays I think that I should have designed a SQLite database to save the extraction results instead of using XML-file for that. SQLite export would lead to few interesting applications such as easy querying and perhaps a web-interface."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"User interface and editing features was developed rather late in the project and I had to learn PyQt well enough. Due this it’s lacking many useful features and could be vastly improved in every regard."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Finally since the project was rather complicated and evolved organically, I didn’t have a full architecture designed explicitly. There is some sub-optimal design decisions and strange parts in code. I also wish I had known about a proper unit testing since it would have helped a lot during the development."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"End result"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the end I’m happy about how Kaira turned out regardless of its flaws. It was really intriguing and challenging to design and I was happy to design the algorithms and extraction patterns."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Availability"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kaira and user manual are available on my "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Tumetsu/Kaira"},"children":[{"type":"text","value":"Github profile"}]},{"type":"text","value":". Required data sets and scanned texts are not public but in case you need them for research, you can contact me or "},{"type":"element","tagName":"a","properties":{"href":"http://www.helsinki.fi/lammi/henkilot/hkunta.html"},"children":[{"type":"text","value":"John Loehr"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Cover image from "},{"type":"element","tagName":"a","properties":{"href":"sa-kuva.fi"},"children":[{"type":"text","value":"SA-kuva"}]}]}],"data":{"quirksMode":false}},"excerpt":"Year ago I was working on Lammi Biological Station on various tasks. One of the most interesting ones was a project to extract data from old…","timeToRead":5,"frontmatter":{"title":"Kaira extractor","userDate":"16 April 2016","date":"2016-04-16T15:31:52+0200","tags":["Science","Software","Python"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAID/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABxqwZD//EABoQAQABBQAAAAAAAAAAAAAAAAEAAhAREhP/2gAIAQEAAQUCxQqc3ZYF/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAASAhIjL/2gAIAQEABj8CtmWzqH//xAAaEAADAAMBAAAAAAAAAAAAAAAAAREQITFR/9oACAEBAAE/IeAUi0atp1NhHiHj/9oADAMBAAIAAwAAABAjD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQEAAwADAAAAAAAAAAAAAAERACExUWFx/9oACAEBAAE/ELZoOJ30YrwU7EKUmTACmxyk+3MIEAnjELzP/9k=","aspectRatio":2.100840336134454,"src":"/static/de2743a424cb5192d97bd347c22e47f1/2a5e2/karelians.jpg","srcSet":"/static/de2743a424cb5192d97bd347c22e47f1/f8f18/karelians.jpg 930w,\n/static/de2743a424cb5192d97bd347c22e47f1/2a5e2/karelians.jpg 1500w","sizes":"(max-width: 1500px) 100vw, 1500px"}}},"author":{"id":"Tuomas","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIEBQH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGM1MsujJrhog//xAAaEAACAwEBAAAAAAAAAAAAAAABAgADEhEz/9oACAEBAAEFAuZUL0Yj+QtyKjtLnLtKrDj/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAZEAACAwEAAAAAAAAAAAAAAAAAARARITH/2gAIAQEABj8CsuHZnRM2f//EABkQAAMBAQEAAAAAAAAAAAAAAAABESExQf/aAAgBAQABPyF0PcGrhxj0T4lBE8Nx2jWjr9NIxcQmZ2Yf/9oADAMBAAIAAwAAABAwzwD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAcEAEBAAMAAwEAAAAAAAAAAAABEQAhMUFRcWH/2gAIAQEAAT8QNQjwDa5EYemnTo57zk3UKtm7iQdGL2k465nWsie24sPFjw/fuIEGFw5h1Bkv3P/Z","width":296,"height":296,"src":"/static/31066bfd182c8f3aeaa2744cfd070fd4/8035e/portrait.jpg","srcSet":"/static/31066bfd182c8f3aeaa2744cfd070fd4/8035e/portrait.jpg 1x"}}]}}}},"relatedPosts":{"totalCount":2,"edges":[{"node":{"id":"8ec71a44-fdb2-533f-b7b8-43bf8beab1af","timeToRead":5,"excerpt":"Year ago I was working on Lammi Biological Station on various tasks. One of the most interesting ones was a project to extract data from old…","frontmatter":{"title":"Kaira extractor"},"fields":{"slug":"/programming/kaira-extractor/"}}},{"node":{"id":"964463dd-34ba-531d-aac3-e84f578f5f94","timeToRead":1,"excerpt":"Based on data produced by Kaira below is a really simple heatmap visualization of migration rates to locations in every year 1912-1966 as…","frontmatter":{"title":"Karelian migration visualization 1912 - 1966"},"fields":{"slug":"/programming/karelian-migration-viz/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/programming/kaira-extractor/","prev":{"excerpt":"Some of my irregular experiments with acrylic colors from past few years.","timeToRead":1,"frontmatter":{"title":"Acrylic experiments","tags":["Art","Acrylic","Painting"],"date":"2016-04-16T15:31:52+0200","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.514792899408284,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEA//EABYBAQEBAAAAAAAAAAAAAAAAAAIBA//aAAwDAQACEAMQAAABjVzOUmYD/8QAGRAAAwEBAQAAAAAAAAAAAAAAAQISABEh/9oACAEBAAEFAmfhVj33FKMS17//xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8BoX//xAAWEQADAAAAAAAAAAAAAAAAAAAQESH/2gAIAQIBAT8BiH//xAAYEAADAQEAAAAAAAAAAAAAAAAAARARMf/aAAgBAQAGPwLEKadn/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAERIUH/2gAIAQEAAT8hfMGkXolAjVCezCkf/9oADAMBAAIAAwAAABBQ/wD/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREh/9oACAEDAQE/EMly/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EJRj/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAITGh/9oACAEBAAE/EFgCer3Xzb0TN8GZJJQQ0pFFFMHgfd//2Q==","sizes":"(max-width: 1024px) 100vw, 1024px","src":"/static/fee7e5ba7f57e88bf31147ee9f92e6f5/426ce/bear.jpg","srcSet":"/static/fee7e5ba7f57e88bf31147ee9f92e6f5/f8f18/bear.jpg 930w,\n/static/fee7e5ba7f57e88bf31147ee9f92e6f5/426ce/bear.jpg 1024w"}}},"author":{"id":"Tuomas","avatar":{"children":[{"fixed":{"src":"/static/31066bfd182c8f3aeaa2744cfd070fd4/8035e/portrait.jpg"}}]}}},"fields":{"layout":"post","slug":"/art/2016-4-6-acrylic-experiments.markdown/"}},"next":{"excerpt":"Based on data produced by Kaira below is a really simple heatmap visualization of migration rates to locations in every year 1912-1966 as…","timeToRead":1,"frontmatter":{"title":"Karelian migration visualization 1912 - 1966","tags":["Science","Visualization","data"],"date":"2016-04-16T15:31:52+0200","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.2386172006745362,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABwpRjEQJ//8QAGRAAAgMBAAAAAAAAAAAAAAAAATEAAhAh/9oACAEBAAEFAlrPBWf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAACEP/aAAgBAgEBPwFT/8QAGBAAAgMAAAAAAAAAAAAAAAAAABARUWH/2gAIAQEABj8Ch0av/8QAGxAAAgIDAQAAAAAAAAAAAAAAAAERIRAxUWH/2gAIAQEAAT8htMJGtih1lyL9kH//2gAMAwEAAgADAAAAEG8//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8Qqv/EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQIBAT8QaPC2/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFBcYH/2gAIAQEAAT8QVfBvWFuxY9fZZbGdHsFy68KsqtjZ0uf/2Q==","sizes":"(max-width: 1469px) 100vw, 1469px","src":"/static/65b87a2d3d8116f82a6de2c10617fbe1/1a64d/karjala-viz.jpg","srcSet":"/static/65b87a2d3d8116f82a6de2c10617fbe1/f8f18/karjala-viz.jpg 930w,\n/static/65b87a2d3d8116f82a6de2c10617fbe1/1a64d/karjala-viz.jpg 1469w"}}},"author":{"id":"Tuomas","avatar":{"children":[{"fixed":{"src":"/static/31066bfd182c8f3aeaa2744cfd070fd4/8035e/portrait.jpg"}}]}}},"fields":{"layout":"post","slug":"/programming/karelian-migration-viz/"}},"primaryTag":"Science"}}}