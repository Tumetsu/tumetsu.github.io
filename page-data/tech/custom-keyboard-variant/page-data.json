{"componentChunkName":"component---src-templates-post-tsx","path":"/tech/custom-keyboard-variant/","webpackCompilationHash":"0a115394fa210cbce826","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABFUlEQVQY023PvUrDUBTA8ZuCtoMoOLQ4dWhN14x2kEKXFkGoohQ/QBexOHRycAidKkgHHRq69APRoTjFJYODIA6+gSBYfYMmfYLE/5VT6NALP845NyeHc9UoCHZRQvonCLKKE4ZhAXYURTsYoE9dIy5iCzfUJnEdV+RF4iu6ikFH2EPxazzOcJmg4Rnn5C8ysIEOHqTe5/sT3qXOwYOtRr5/wLAqzpCTDXu4p2ETtyjgGJ/cX+se8jeU9fa4RBt5vWENpjzdkoGPcGg4RQsbOMEFmnBRRwVDHEK/yFXfvr/CoPjvZLKcdByDyzWGeajigzorGy0oOeRJiUtITe/pX1XzDk3buIMltSFR/zTtic3060X+8z8PsEUt8G3LVQAAAABJRU5ErkJggg==","width":400,"height":128,"src":"/static/2b5eaa0de166a8b5faebad4955c2200c/647de/ghost-logo.png","srcSet":"/static/2b5eaa0de166a8b5faebad4955c2200c/647de/ghost-logo.png 1x"}}},"markdownRemark":{"html":"<p>Recently I had to reinstall my Ubuntu and noticed I hadn’t documented how to setup my custom keyboard layout.\nIt took some time to figure it out so I decided to document it here for posteriority.\nThis should work on Ubuntu 18.04.</p>\n<h3>1. Customize your keyboard symbols</h3>\n<p>You should have a custom keyboard symbol definitions. In my case I wanted to replace the default Finnish\nsymbols to add a new keyboard variant called <em>sensible braces</em>. So\nadd a new variant to the default symbols file:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">vim  /usr/share/X11/xkb/symbols/fi\n\npartial alphanumeric_keys\nxkb_symbols &quot;sensiblebraces&quot; {\n\n    // Classic Finnish keyboard layout without dead keys and {[]} on asdf + AltGr\n\n    include &quot;fi(nodeadkeys)&quot;\n\n    name[Group1]=&quot;Finnish (classic, no dead keys, sensible braces)&quot;;\n\n    key &lt;AC01&gt; { [  a,               A,                braceleft,             SCHWA                 ] };\n    key &lt;AC02&gt; { [  s,               S,                bracketleft,           Scaron                ] };\n    key &lt;AC03&gt; { [  d,               D,                bracketright,          ETH                   ] };\n    key &lt;AC04&gt; { [  f,               F,                braceright,            F                     ] };\n};</code></pre></div>\n<p>In my case I change the asdf to act as {[]} with Alt Gr as modifier. This setup makes those characters easier to\nreach on Scandinavian keyboards.</p>\n<h3>2. Add the new variant to the evdev.xml</h3>\n<p>To get your new variant to show up in the desktop’s keyboard selection GUI, you have to add the variant\nto the evdev.xml:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">vim /usr/share/X11/xkb/rules/evdev.xml\n\n &lt;variant&gt;\n   &lt;configItem&gt;\n     &lt;name&gt;sensiblebraces&lt;/name&gt;\n     &lt;description&gt;Finnish (classic, no dead keys, sensible braces)&lt;/description&gt;\n   &lt;/configItem&gt;\n &lt;/variant&gt;</code></pre></div>\n<p>Make sure to add the variant inside the correct layout definition!</p>\n<h3>3. Select the new layout</h3>\n<p>Simply select the new layout from the GUI keyboard layout menu. If it does not appear, try logging out first.</p>\n<p>Cover Photo by Shahadat Shemul on Unsplash</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Recently I had to reinstall my Ubuntu and noticed I hadn’t documented how to setup my custom keyboard layout.\nIt took some time to figure it out so I decided to document it here for posteriority.\nThis should work on Ubuntu 18.04."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"1. Customize your keyboard symbols"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You should have a custom keyboard symbol definitions. In my case I wanted to replace the default Finnish\nsymbols to add a new keyboard variant called "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"sensible braces"}]},{"type":"text","value":". So\nadd a new variant to the default symbols file:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"vim  /usr/share/X11/xkb/symbols/fi\n\npartial alphanumeric_keys\nxkb_symbols \"sensiblebraces\" {\n\n    // Classic Finnish keyboard layout without dead keys and {[]} on asdf + AltGr\n\n    include \"fi(nodeadkeys)\"\n\n    name[Group1]=\"Finnish (classic, no dead keys, sensible braces)\";\n\n    key <AC01> { [  a,               A,                braceleft,             SCHWA                 ] };\n    key <AC02> { [  s,               S,                bracketleft,           Scaron                ] };\n    key <AC03> { [  d,               D,                bracketright,          ETH                   ] };\n    key <AC04> { [  f,               F,                braceright,            F                     ] };\n};"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In my case I change the asdf to act as {[]} with Alt Gr as modifier. This setup makes those characters easier to\nreach on Scandinavian keyboards."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"2. Add the new variant to the evdev.xml"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To get your new variant to show up in the desktop’s keyboard selection GUI, you have to add the variant\nto the evdev.xml:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"vim /usr/share/X11/xkb/rules/evdev.xml\n\n <variant>\n   <configItem>\n     <name>sensiblebraces</name>\n     <description>Finnish (classic, no dead keys, sensible braces)</description>\n   </configItem>\n </variant>"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Make sure to add the variant inside the correct layout definition!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"3. Select the new layout"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Simply select the new layout from the GUI keyboard layout menu. If it does not appear, try logging out first."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Cover Photo by Shahadat Shemul on Unsplash"}]}],"data":{"quirksMode":false}},"excerpt":"Recently I had to reinstall my Ubuntu and noticed I hadn’t documented how to setup my custom keyboard layout. \nIt took some time to figure…","timeToRead":1,"frontmatter":{"title":"How to add custom keyboard variant in Ubuntu 18.04","userDate":"28 September 2018","date":"2018-09-28T11:23:27.244Z","tags":["Linux","Ubuntu"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwAEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAAB5xqo5pas/wD/xAAZEAACAwEAAAAAAAAAAAAAAAAAAQIREhD/2gAIAQEAAQUCkijLNXxn/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAECEv/aAAgBAwEBPwGmaZ//xAAWEQEBAQAAAAAAAAAAAAAAAAAAASH/2gAIAQIBAT8BjH//xAAWEAADAAAAAAAAAAAAAAAAAAAQIDH/2gAIAQEABj8CET//xAAZEAACAwEAAAAAAAAAAAAAAAAAARARIWH/2gAIAQEAAT8hXce0s1CxGmf/2gAMAwEAAgADAAAAEPPP/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/EDHYf//EABcRAAMBAAAAAAAAAAAAAAAAAAABEVH/2gAIAQIBAT8QuJF2f//EABwQAAICAgMAAAAAAAAAAAAAAAERACExgWGRwf/aAAgBAQABPxAZkvYSaNcJmPxtqWgCsQXWdVLJL7M//9k=","aspectRatio":1.5,"src":"/static/69195991f8d37aab72e918317998f0b9/ee2de/code-cover.jpg","srcSet":"/static/69195991f8d37aab72e918317998f0b9/f8f18/code-cover.jpg 930w,\n/static/69195991f8d37aab72e918317998f0b9/0e6ff/code-cover.jpg 1860w,\n/static/69195991f8d37aab72e918317998f0b9/ee2de/code-cover.jpg 2550w","sizes":"(max-width: 2550px) 100vw, 2550px"}}},"author":{"id":"Tuomas","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIEBQH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGM1MsujJrhog//xAAaEAACAwEBAAAAAAAAAAAAAAABAgADEhEz/9oACAEBAAEFAuZUL0Yj+QtyKjtLnLtKrDj/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAZEAACAwEAAAAAAAAAAAAAAAAAARARITH/2gAIAQEABj8CsuHZnRM2f//EABkQAAMBAQEAAAAAAAAAAAAAAAABESExQf/aAAgBAQABPyF0PcGrhxj0T4lBE8Nx2jWjr9NIxcQmZ2Yf/9oADAMBAAIAAwAAABAwzwD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAcEAEBAAMAAwEAAAAAAAAAAAABEQAhMUFRcWH/2gAIAQEAAT8QNQjwDa5EYemnTo57zk3UKtm7iQdGL2k465nWsie24sPFjw/fuIEGFw5h1Bkv3P/Z","width":296,"height":296,"src":"/static/31066bfd182c8f3aeaa2744cfd070fd4/8035e/portrait.jpg","srcSet":"/static/31066bfd182c8f3aeaa2744cfd070fd4/8035e/portrait.jpg 1x"}}]}}}},"relatedPosts":{"totalCount":1,"edges":[{"node":{"id":"25a20c73-c9b0-5152-9828-9b5e13f7202a","timeToRead":1,"excerpt":"Recently I had to reinstall my Ubuntu and noticed I hadn’t documented how to setup my custom keyboard layout. \nIt took some time to figure…","frontmatter":{"title":"How to add custom keyboard variant in Ubuntu 18.04"},"fields":{"slug":"/tech/custom-keyboard-variant/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/tech/custom-keyboard-variant/","prev":{"excerpt":"Year ago I was working on Lammi Biological Station on various tasks. One of the most interesting ones was a project to extract data from old…","timeToRead":5,"frontmatter":{"title":"Kaira extractor","tags":["Science","Software","Python"],"date":"2016-04-16T15:31:52+0200","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":2.100840336134454,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAID/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABxqwZD//EABoQAQABBQAAAAAAAAAAAAAAAAEAAhAREhP/2gAIAQEAAQUCxQqc3ZYF/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAASAhIjL/2gAIAQEABj8CtmWzqH//xAAaEAADAAMBAAAAAAAAAAAAAAAAAREQITFR/9oACAEBAAE/IeAUi0atp1NhHiHj/9oADAMBAAIAAwAAABAjD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQEAAwADAAAAAAAAAAAAAAERACExUWFx/9oACAEBAAE/ELZoOJ30YrwU7EKUmTACmxyk+3MIEAnjELzP/9k=","sizes":"(max-width: 1500px) 100vw, 1500px","src":"/static/de2743a424cb5192d97bd347c22e47f1/2a5e2/karelians.jpg","srcSet":"/static/de2743a424cb5192d97bd347c22e47f1/f8f18/karelians.jpg 930w,\n/static/de2743a424cb5192d97bd347c22e47f1/2a5e2/karelians.jpg 1500w"}}},"author":{"id":"Tuomas","avatar":{"children":[{"fixed":{"src":"/static/31066bfd182c8f3aeaa2744cfd070fd4/8035e/portrait.jpg"}}]}}},"fields":{"layout":"post","slug":"/programming/kaira-extractor/"}},"next":{"excerpt":"I have tried multiple times in my life to keep a diary or log of my life and thoughts. \nUsually this has failed by me not writing entries…","timeToRead":4,"frontmatter":{"title":"Setting up an encrypted personal wiki and diary with Vimwiki and Cryptomator","tags":["Productivity","Vim","Wiki"],"date":"2018-11-13T19:27:40.277Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.5,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABRYrE0gbA/wD/xAAZEAEAAwEBAAAAAAAAAAAAAAACAAEDBBT/2gAIAQEAAQUCHO1PJURooaIzXRa3P//EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAgBAwEBPwGaj//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/Aar/xAAcEAABAwUAAAAAAAAAAAAAAAARAAEQEjFBUYH/2gAIAQEABj8COFd+oVGAQ2o//8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIVExQf/aAAgBAQABPyEUWQqYTDiinCea2cZcdH4iBgT/2gAMAwEAAgADAAAAEIc//8QAFhEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/EDRf/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/EAZH/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIXExUfBh/9oACAEBAAE/EK+W7c1qVDU2fbgxcqVkvqHmG8XLyDDZy/WL0KJ//9k=","sizes":"(max-width: 1950px) 100vw, 1950px","src":"/static/a206337e1e9865f0a6bc6e80053c97b7/15715/diary-cover.jpg","srcSet":"/static/a206337e1e9865f0a6bc6e80053c97b7/f8f18/diary-cover.jpg 930w,\n/static/a206337e1e9865f0a6bc6e80053c97b7/0e6ff/diary-cover.jpg 1860w,\n/static/a206337e1e9865f0a6bc6e80053c97b7/15715/diary-cover.jpg 1950w"}}},"author":{"id":"Tuomas","avatar":{"children":[{"fixed":{"src":"/static/31066bfd182c8f3aeaa2744cfd070fd4/8035e/portrait.jpg"}}]}}},"fields":{"layout":"post","slug":"/tech/personal-wiki/"}},"primaryTag":"Linux"}}}